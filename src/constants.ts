import { BigNumber } from 'ethers/utils';

interface Connector {
  id: string;
  subType?: string;
  label: string;
}

export const SCALE = new BigNumber((1e18).toString());
export const PERCENT_SCALE = new BigNumber((1e16).toString());
export const RATIO_SCALE = new BigNumber((1e8).toString());
export const EXP_SCALE = new BigNumber((1e18).toString());

// For now, support one chain ID per deployment; also a `use-wallet` restriction
export const CHAIN_ID = parseInt(process.env.REACT_APP_CHAIN_ID as string, 10);

interface Addresses {
  UNISWAP_ROUTER02: string;
  WETH: string;
  MTA: string;
  vMTA: string;
  mUSD: {
    SaveWrapper: string;
  };
  mBTC?: {
    SaveWrapper: string;
  };
  CURVE: {
    CURVE_V2: string;
    GAUGE_CONTROLLER: string;

    CRV_TOKEN: string;
    MUSD_TOKEN: string;
    '3POOL_TOKEN': string;
    '3POOL_COINS': string[];

    MTA_STAKING_REWARDS: string;

    TOKEN_MINTER: string;

    MUSD_LP_TOKEN: string;
    MUSD_DEPOSIT: string;
    MUSD_GAUGE: string;
    MUSD_SWAP: string;
    '3POOL_SWAP': string;
  };
}

type AddressesByNetwork = Record<typeof CHAIN_ID, Addresses>;

const ADDRESSES_BY_NETWORK: AddressesByNetwork = Object.freeze({
  1: {
    UNISWAP_ROUTER02: 'TODO', // FIXME
    WETH: 'TODO', // FIXME
    MTA: '0xa3bed4e1c75d00fa6f4e5e6922db7261b5e9acd2',
    vMTA: '0xae8bc96da4f9a9613c323478be181fdb2aa0e1bf',
    mUSD: {
      SaveWrapper: 'TODO',
    },
    CURVE: {
      CURVE_V2: '0x1aef73d49dedc4b1778d0706583995958dc862e6',
      GAUGE_CONTROLLER: '0x2f50d538606fa9edd2b11e2446beb18c9d5846bb',

      CRV_TOKEN: '0xd533a949740bb3306d119cc777fa900ba034cd52',
      MUSD_TOKEN: '0xe2f2a5c287993345a840db3b0845fbc70f5935a5',
      '3POOL_TOKEN': '0x6c3f90f043a72fa612cbac8115ee7e52bde6e490',
      '3POOL_COINS': [
        '0x6b175474e89094c44da98b954eedeac495271d0f', // DAI
        '0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48', // USDC
        '0xdac17f958d2ee523a2206206994597c13d831ec7', // USDT
      ],

      MTA_STAKING_REWARDS: '0xe6e6e25efda5f69687aa9914f8d750c523a1d261',

      TOKEN_MINTER: '0xd061d61a4d941c39e5453435b6345dc261c2fce0',

      MUSD_LP_TOKEN: '0x1aef73d49dedc4b1778d0706583995958dc862e6',
      MUSD_DEPOSIT: '0x78cf256256c8089d68cde634cf7cdefb39286470',
      MUSD_GAUGE: '0x5f626c30ec1215f4edcc9982265e8b1f411d1352',
      MUSD_SWAP: '0x8474ddbe98f5aa3179b3b3f5942d724afcdec9f6',
      '3POOL_SWAP': '0xbebc44782c7db0a1a60cb6fe97d0b483032ff1c7',
    },
  },
  3: {
    UNISWAP_ROUTER02: '0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D',
    MTA: '0x273bc479e5c21caa15aa8538decbf310981d14c0',
    vMTA: '0x77f9bf80e0947408f64faa07fd150920e6b52015',
    WETH: '0xc778417e063141139fce010982780140aa0cd5ab',
    mUSD: {
      SaveWrapper: '0xf945a7d2da7b9a8447b059017962475e03712c18',
    },
    // 0x6080604052670d99a8cec7e2000060025534801561001c57600080fd5b50604051610a2e380380610a2e8339818101604052604081101561003f57600080fd5b810190808051604051939291908464010000000082111561005f57600080fd5b8382019150602082018581111561007557600080fd5b825186602082028301116401000000008211171561009257600080fd5b8083526020830192505050908051906020019060200280838360005b838110156100c95780820151818401526020810190506100ae565b50505050905001604052602001805190602001909291905050508073ffffffffffffffffffffffffffffffffffffffff168260008151811061010757fe5b602002602001015173ffffffffffffffffffffffffffffffffffffffff1614610198576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260138152602001807f436f696e2030206d757374206265206d5553440000000000000000000000000081525060200191505060405180910390fd5b81600090805190602001906101ae9291906101f7565b5080600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050506102c4565b828054828255906000526020600020908101928215610270579160200282015b8281111561026f5782518260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555091602001919060010190610217565b5b50905061027d9190610281565b5090565b6102c191905b808211156102bd57600081816101000a81549073ffffffffffffffffffffffffffffffffffffffff021916905550600101610287565b5090565b90565b61075b806102d36000396000f3fe608060405234801561001057600080fd5b506004361061004c5760003560e01c80635e0d443f14610051578063a6417ed6146100ad578063b2237ba314610113578063c661065714610141575b600080fd5b6100976004803603606081101561006757600080fd5b810190808035600f0b90602001909291908035600f0b9060200190929190803590602001909291905050506101af565b6040518082815260200191505060405180910390f35b6100fd600480360360808110156100c357600080fd5b810190808035600f0b90602001909291908035600f0b9060200190929190803590602001909291908035906020019092919050505061031e565b6040518082815260200191505060405180910390f35b61013f6004803603602081101561012957600080fd5b81019080803590602001909291905050506106e0565b005b61016d6004803603602081101561015757600080fd5b81019080803590602001909291905050506106ea565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b60008083600f0b14610229576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260138152602001807f4f7574707574206d757374206265206d5553440000000000000000000000000081525060200191505060405180910390fd5b60008085600f0b8154811061023a57fe5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905060008173ffffffffffffffffffffffffffffffffffffffff1663313ce5676040518163ffffffff1660e01b815260040160206040518083038186803b1580156102af57600080fd5b505afa1580156102c3573d6000803e3d6000fd5b505050506040513d60208110156102d957600080fd5b810190808051906020019092919050505060ff1690506000670de0b6b3a764000060025483601203600a0a8702028161030e57fe5b0490508093505050509392505050565b60008084600f0b14610398576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260138152602001807f4f7574707574206d757374206265206d5553440000000000000000000000000081525060200191505060405180910390fd5b60008086600f0b815481106103a957fe5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905060008173ffffffffffffffffffffffffffffffffffffffff1663313ce5676040518163ffffffff1660e01b815260040160206040518083038186803b15801561041e57600080fd5b505afa158015610432573d6000803e3d6000fd5b505050506040513d602081101561044857600080fd5b810190808051906020019092919050505060ff1690506000670de0b6b3a764000060025483601203600a0a8802028161047d57fe5b049050848110156104f6576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601d8152602001807f4352563a204f757470757420616d6f756e74206e6f7420656e6f75676800000081525060200191505060405180910390fd5b8273ffffffffffffffffffffffffffffffffffffffff166323b872dd3330896040518463ffffffff1660e01b8152600401808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018281526020019350505050602060405180830381600087803b1580156105b157600080fd5b505af11580156105c5573d6000803e3d6000fd5b505050506040513d60208110156105db57600080fd5b810190808051906020019092919050505050600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663a9059cbb33836040518363ffffffff1660e01b8152600401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200182815260200192505050602060405180830381600087803b15801561069657600080fd5b505af11580156106aa573d6000803e3d6000fd5b505050506040513d60208110156106c057600080fd5b810190808051906020019092919050505050809350505050949350505050565b8060028190555050565b600081815481106106f757fe5b906000526020600020016000915054906101000a900473ffffffffffffffffffffffffffffffffffffffff168156fea265627a7a723158202b6d65157f5bc31a6e4ed5ab2c151fc9e6069346b2f59b76b38353ce625c7bfd64736f6c6343000510003200000000000000000000000000000000000000000000000000000000000000400000000000000000000000004e1000616990d83e56f4b5fc6cc8602dcfd2045900000000000000000000000000000000000000000000000000000000000000040000000000000000000000004e1000616990d83e56f4b5fc6cc8602dcfd20459000000000000000000000000
    // b5e5d0f8c0cba267cd3d7035d6adc8eba7df7cdd000000000000000000000000
    // 8a9447df1fb47209d36204e6d56767a33bf20f9f000000000000000000000000
    // b404c51bbc10dcbe948077f18a4b8e553d160084
    CURVE: {
      MUSD_SWAP: '0xfad04fbdd5b12188d4fd3ba0325a22962dc00ea4',
      '3POOL_COINS': [
        '0xb5e5d0f8c0cba267cd3d7035d6adc8eba7df7cdd', // DAI
        '0x8a9447df1fb47209d36204e6d56767a33bf20f9f', // USDC
        '0xb404c51bbc10dcbe948077f18a4b8e553d160084', // USDT
      ],
    } as never,
  },
  42: {
    UNISWAP_ROUTER02: 'TODO',
    WETH: 'TODO',
    MTA: '0xcda64b5d3ca85800ab9f7409686985b59f2b9598',
    vMTA: 'TODO',
    mUSD: {
      SaveWrapper: 'TODO',
    },
  } as never,
});

export const ADDRESSES: Addresses = ADDRESSES_BY_NETWORK[CHAIN_ID];

export const EMOJIS = {
  error: '‚ùå',
  approve: '‚úîÔ∏è',
  depositSavings: 'üè¶',
  swap: 'üîÑ',
  mint: 'üíµ',
  mintMulti: 'üíµ',
  redeem: 'üí±',
  redeemMasset: 'üí±',
  withdraw: 'üèß',
  link: 'üîó',
  exit: 'üö™',
  claimReward: 'üèÜ',
  claimWeeks: 'üèÜ',
  claimWeek: 'üèÜ',
  'stake(uint256)': 'üîí',
};

export const DAPP_VERSION =
  process.env.REACT_APP_VERSION || process.env.npm_package_version;

export const STABLECOIN_SYMBOLS = [
  'BUSD',
  'DAI',
  'SUSD',
  'TUSD',
  'USDC',
  'USDT',
  'mUSD',
];

export const rpcUrl = `${process.env.REACT_APP_RPC_URL}${process.env.REACT_APP_RPC_API_KEY}`;

export const CONNECTORS: Connector[] = [
  {
    id: 'injected',
    subType: 'metamask',
    label: 'MetaMask',
  },
  {
    id: 'injected',
    subType: 'brave',
    label: 'Brave',
  },
  {
    id: 'injected',
    subType: 'meetOne',
    label: 'MEET.ONE',
  },
  { id: 'fortmatic', label: 'Fortmatic' },
  { id: 'portis', label: 'Portis' },
  { id: 'authereum', label: 'Authereum' },
  { id: 'squarelink', label: 'Squarelink' },
  { id: 'torus', label: 'Torus' },
  { id: 'walletconnect', label: 'WalletConnect' },
  { id: 'walletlink', label: 'WalletLink' },
  { id: 'frame', label: 'Frame' },
];
