fragment PoolDetails on Pool {
  id
  totalShares
  totalSwapVolume
  swapFee
  tokens {
    address
    balance
    decimals
    symbol
  }
}

fragment TokenPriceDetails on TokenPrice {
  id
  price
  decimals
}

query Pools($ids: [ID!]!) @api(name: balancer) {
  pools(where: { id_in: $ids }) {
    ...PoolDetails
  }
}

query PoolsAtBlock($ids: [ID!]!, $blockNumber: Int!) @api(name: balancer) {
  pools(where: { id_in: $ids }, block: { number: $blockNumber }) {
    ...PoolDetails
  }
}

query TokenPrices($tokens: [ID!]!) @api(name: balancer) {
  tokenPrices(where: { id_in: $tokens }) {
    ...TokenPriceDetails
  }
}

query TokenPrice($token: ID!) @api(name: balancer) {
  tokenPrice(id: $token) {
    ...TokenPriceDetails
  }
}
