fragment TokenDetails on Token {
  id
  address
  decimals
  symbol
  totalSupply {
    ...MetricFields
  }
}

fragment MassetAll on Masset {
  id
  token {
    ...TokenDetails
  }
  feeRate
  redemptionFeeRate
  basket {
    failed
    collateralisationRatio
    undergoingRecol
    bassets {
      id
      vaultBalance {
        ...MetricFields
      }
      isTransferFeeCharged
      ratio
      status
      maxWeight
      token {
        ...TokenDetails
      }
    }
  }
}

fragment TransactionFields on Transaction {
  id
  hash
  timestamp
  block
  sender
}

fragment MetricFields on Metric {
  exact
  decimals
  simple
}

fragment TransactionAll on Transaction {
  ... on RedeemTransaction {
    masset {
      id
    }
    massetUnits
    bassets {
      id
    }
    bassetsUnits
    recipient
  }
  ... on RedeemMassetTransaction {
    masset {
      id
    }
    massetUnits
    recipient
  }
  ... on MintMultiTransaction {
    masset {
      id
    }
    massetUnits
  }
  ... on MintSingleTransaction {
    bassetUnits
    masset {
      id
    }
    massetUnits
  }
  ... on PaidFeeTransaction {
    basset {
      id
    }
    bassetUnits
    masset {
      id
    }
    massetUnits
  }
  ... on SavingsContractDepositTransaction {
    amount
    savingsContract {
      id
    }
  }
  ... on SavingsContractWithdrawTransaction {
    amount
    savingsContract {
      id
    }
  }
  ... on SwapTransaction {
    masset {
      id
    }
    inputBasset {
      token {
        name
      }
    }
    outputBasset {
      token {
        name
      }
    }
    massetUnits
  }
}
